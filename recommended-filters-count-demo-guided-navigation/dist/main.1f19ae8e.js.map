{"version":3,"sources":["main.js"],"names":["appID","apiKey","search","instantsearch","indexName","searchClient","algoliasearch","addWidget","widgets","configure","hitsPerPage","hits","container","templates","empty","item","hit","image","_highlightResult","brand","value","name","price","pagination","searchBox","stats","refinementList","attribute","limit","showMore","searchable","searchablePlaceholder","rangeSlider","pips","tooltips","format","rawValue","Math","round","toLocaleString","concat","cssClasses","root","handle","tooltip","renderRefinementList","renderOptions","isFirstRender","items","isFromSearch","refine","createURL","isShowingMore","canToggleShowMore","searchForItems","toggleShowMore","widgetParams","ul","document","createElement","button","classList","add","textContent","addEventListener","appendChild","querySelector","innerHTML","map","isRefined","label","count","join","querySelectorAll","forEach","element","event","preventDefault","currentTarget","dataset","customRefinementList","connectors","connectRefinementList","addWidgets","showMoreLimit","start"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["// import PredictiveSearchBoxWidget from \"./predictive-search-box/predictive-search-box.js\";\n\nlet appID = \"latency\";\nlet apiKey = \"af044fb0788d6bb15f807e4420592bc5\";\n\nconst search = instantsearch({\n  indexName: \"instant_search_solutions_ecommerce\",\n  searchClient: algoliasearch(appID, apiKey)\n});\n\nsearch.addWidget(\n  instantsearch.widgets.configure({\n    hitsPerPage: 12\n  })\n);\n\nsearch.addWidget(\n  instantsearch.widgets.hits({\n    container: \"#hits\",\n    templates: {\n      empty: \"No results\",\n      item(hit) {\n        return `\n        <div class=\"item\">\n                <figure class=\"hit-image-container\"><div class=\"hit-image-container-box\"><img class=\"hit-image\" src=\"${hit.image}\" alt=\"\"></div></figure>\n                <p class=\"hit-category\">&#8203;â€‹</p>\n                <div class=\"item-content\">\n                    <p class=\"brand hit-tag\">${hit._highlightResult.brand ? hit._highlightResult.brand.value : ''}</p>\n                    <p class=\"name\">${hit._highlightResult.name.value}</p>\n                    </div>\n                    <div class=\"hit-description\"><b class=\"hit-currency\">$</b>${hit.price}</div>\n            </div>\n            <br>`;\n      }\n    }\n  })\n);\n\n\nsearch.addWidget(\n  instantsearch.widgets.pagination({\n    container: \"#pagination\"\n  })\n);\nsearch.addWidget(\n  instantsearch.widgets.searchBox({\n    container: \"#searchbox\"\n  })\n);\n\nsearch.addWidget(\n  instantsearch.widgets.stats({\n    container: \"#stats-container\"\n  })\n);\n\nsearch.addWidget(\n  instantsearch.widgets.refinementList({\n    container: \"#brand\",\n    attribute: \"brand\",\n    limit: 5,\n    showMore: true,\n    searchable: true,\n    searchablePlaceholder: \"Search our brands\"\n  })\n);\n\n// search.addWidget(\n//   instantsearch.widgets.refinementList({\n//     container: \"#categories\",\n//     attribute: \"categories\"\n//   })\n// );\n\nsearch.addWidget(\n  instantsearch.widgets.rangeSlider({\n    container: '#price',\n    attribute: 'price',\n    pips: !1,\n\n\n    tooltips: {\n      format: function (rawValue) {\n        return Math.round(rawValue).toLocaleString().concat(\"$\")\n      }\n    },\n    cssClasses: {\n      root: ['rheostat', 'DefaultProgressBar_progressBar'],\n      handle: [\n        'DefaultHandle_handle'\n      ],\n      tooltip: 'rheostat-value'\n    },\n  })\n\n);\n\n\n// 1. Create a render function\nconst renderRefinementList = (renderOptions, isFirstRender) => {\n  const {\n    items,\n    isFromSearch,\n    refine,\n    createURL,\n    isShowingMore,\n    canToggleShowMore,\n    searchForItems,\n    toggleShowMore,\n    widgetParams,\n  } = renderOptions;\n\n  if (isFirstRender) {\n    // const input = document.createElement('input');\n    const ul = document.createElement('ul');\n    const button = document.createElement('button');\n    button.classList.add('btn-showMore')\n    button.textContent = 'Show more';\n\n    // input.addEventListener('input', event => {\n    //   searchForItems(event.currentTarget.value);\n    // });\n\n    button.addEventListener('click', () => {\n      toggleShowMore();\n    });\n\n    // widgetParams.container.appendChild(input);\n    widgetParams.container.appendChild(ul);\n    widgetParams.container.appendChild(button);\n  }\n\n  // const input = widgetParams.container.querySelector('input');\n\n  // if (!isFromSearch && input.value) {\n  //   input.value = '';\n  // }\n\n  widgetParams.container.querySelector('ul').innerHTML = items\n    .map(\n      item => `\n        <li style=\"${isRefined(item)}\">\n          <a\n            href=\"${createURL(item.value)}\"\n            data-value=\"${item.value}\"\n          >\n            ${item.label} (${item.count})\n          </a>\n        </li>\n      `\n    )\n    .join('');\n\n  [...widgetParams.container.querySelectorAll('a')].forEach(element => {\n    element.addEventListener('click', event => {\n      event.preventDefault();\n      refine(event.currentTarget.dataset.value);\n    });\n  });\n\n  const button = widgetParams.container.querySelector('button');\n\n  // button.disabled = !canToggleShowMore;\n  button.textContent = isShowingMore ? 'Show less' : 'Show more';\n};\n\nfunction isRefined(item) {\n  if (item.isRefined) {\n    return 'font-weight: bold; background-color: rgba(83,101,252, 0.5)'\n  }\n}\n\n// 2. Create the custom widget\nconst customRefinementList = instantsearch.connectors.connectRefinementList(\n  renderRefinementList\n);\n\n// 3. Instantiate\nsearch.addWidgets([\n  customRefinementList({\n    container: document.querySelector('#refinement-list'),\n    attribute: 'categories',\n    showMoreLimit: 40,\n  })\n]);\n\nsearch.start();\n"]}